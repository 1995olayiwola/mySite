{"version":3,"sources":["Components/Auth/Pos.jsx"],"names":["Pos","props","React","useState","number","setNumber","number2","setNumber2","initialData","location","content","categories","username","platform","brand","formValues","setFormValues","error","setError","loading","setLoading","handleChangeWithName2","name","e","target","value","handleChange","val","console","log","fav","handleSubmit","a","preventDefault","persist","user","Parse","User","current","Post","Object","extend","post","acl","ACL","setWriteAccess","setPublicReadAccess","setACL","set","GeoPoint","latitude","lat","longitude","lng","save","history","push","message","className","onSubmit","Group","controlId","Label","Control","type","placeholder","onChange","bind","this","title","options","label","handleDescription","formatted_address","onHandleSelect","input","fV","variant"],"mappings":"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","file":"static/js/6.9cd2bef5.chunk.js","sourcesContent":["import React from 'react';\r\nimport MyAlert from '../../Utils/MyAlert';\r\nimport Parse from 'parse';\r\nimport Loading from '../../Utils/Loading';\r\nimport {\r\n   Form,\r\n   Button\r\n} from 'react-bootstrap';\r\nimport Location from '../../Widgets/LocationBox/Location';\r\n//import {Select} from 'react-select';\r\nimport RichTextArea from '../../Widgets/RichTextArea'\r\nimport SingleSelect from '../../Widgets/ReactSelect/SingleSelect';\r\nimport './Pos.css';\r\nfunction Pos(props) {\r\nconst[number,setNumber]= React.useState(null);\r\nconst[number2,setNumber2]= React.useState(null);\r\n   \r\n   const tableName = \"TotalInfo6\";\r\n   const initialData = {\r\n      location: {},\r\n      content: '',\r\n      categories: null,\r\n      number:number,\r\n      number2:number2,\r\n      username:\"\",\r\n      platform:\"\",\r\n      brand:\"\"\r\n  \r\n\r\n      \r\n      \r\n\r\n   };\r\n\r\n   \r\n   const [formValues, setFormValues] = React.useState(initialData);\r\n   const [error, setError] = React.useState(null);\r\n   const [loading, setLoading] = React.useState(false);\r\n  \r\n  \r\n  const handleChangeWithName =(e)=> {\r\n    console.log('onChange fired with value:', +e.target.value);\r\n    setNumber(()=>{\r\n       return (+e.target.value)\r\n    })\r\n  \r\n  }\r\n    const handleChangeWithName3 =(e)=> {\r\n    console.log('onChange fired with value:', +e.target.value);\r\n    setNumber2(()=>{\r\n       return (+e.target.value)\r\n    })\r\n  \r\n  }\r\n    const handleChangeWithName2 =(name,e)=> {\r\n    \r\n    setFormValues(()=>{\r\n       return {\r\n           ...formValues,\r\n           [e.target.name]:e.target.value\r\n       }\r\n    })\r\n  \r\n  }\r\n   \r\n\r\n   const handleLocationSelect = (name, input) => {\r\n      setFormValues((fV) => {\r\n         return {\r\n            ...fV,\r\n            [name]: input\r\n         }\r\n      })\r\n   }\r\n\r\n   \r\n    \r\n\r\n  \r\n \r\n\r\n   const handleChange = (name, val) => {\r\n\r\n      console.log('name is', name, 'val is', val)\r\n      setFormValues((fav) => {\r\n         return {\r\n            ...fav,\r\n            [name]: val\r\n         };\r\n      });\r\n\r\n      console.log('formValues:', formValues);\r\n   };\r\n   \r\n   const handleSubmit = async (e) => {\r\n      try {\r\n         e.preventDefault();\r\n         e.persist();\r\n         await setLoading(true);\r\n         await setError(null);\r\n         const user = Parse.User.current();\r\n         const Post = Parse.Object.extend(tableName);\r\n         const post = new Post();\r\n         // write ACL code here\r\n         const acl = new Parse.ACL();\r\n         acl.setWriteAccess(user, true);\r\n         //private user read access\r\n         //acl.setReadAccess(user,true);\r\n         \r\n         acl.setPublicReadAccess(true);\r\n         post.setACL(acl);\r\n         //post users\r\n         post.set('location', formValues.location);\r\n         post.set('location_geo',\r\n            new Parse.GeoPoint({\r\n               latitude: formValues.location.lat,\r\n               longitude: formValues.location.lng\r\n            }))\r\n            post.set('content',formValues.content)\r\n            post.set('number',number);\r\n            post.set('number2',number2);\r\n            post.set('username',formValues.username);\r\n            post.set('brand',formValues.brand);\r\n           \r\n            post.set('platform',formValues.platform);\r\n        \r\n   \r\n         post.set('categories', formValues.categories);\r\n         //post.set('location2',formValues.location2);\r\n         //post.set('location_geo_2',2)\r\n\r\n         post.set('user', user);\r\n         console.log('post is', post);\r\n         await post.save();\r\n         await setLoading(false);\r\n         props.history.push('/add5');\r\n      } catch (eror) {\r\n         console.log('eror is :', eror);\r\n\r\n         await setLoading(false);\r\n         await setError(error.message);\r\n      }\r\n   };\r\n    return (\r\n        <div className=\"pos\">\r\n   \r\n\r\n           <Form onSubmit={handleSubmit} >\r\n             <Form.Group controlId=\"formBasicName\">\r\n    <Form.Label className=\"label\">Name</Form.Label>\r\n    <Form.Control type=\"text\" className=\"input1\" placeholder=\"Enter your name\" onChange= {handleChangeWithName2.bind(this,'username')} value={formValues.value} name=\"username\"/>\r\n </Form.Group>  \r\n<Form.Group controlId=\"formBasicNumber\">\r\n    <Form.Label className=\"label\">Enter Phone number</Form.Label>\r\n    <Form.Control type=\"number\"className=\"input2\" placeholder=\"Enter your phone number\" onChange= {handleChangeWithName} value={number} />\r\n </Form.Group>\r\n  \r\n <Form.Group controlId=\"formBasicAddress\">\r\n <Form.Label className=\"label\">Enter Pos brand</Form.Label>\r\n    <Form.Control type=\"text\" className=\"input3\" placeholder=\"Enter Pos brand\" onChange= {handleChangeWithName2.bind(this,'brand')} value={formValues.value} name=\"brand\"/>\r\n </Form.Group>\r\n \r\n <Form.Group controlId=\"formBasicAddress\">\r\n <Form.Label className=\"label\">Currently used platform</Form.Label>\r\n    <Form.Control type=\"text\" className=\"input4\" placeholder=\"Enter your current platform\" onChange= {handleChangeWithName2.bind(this,'platform')} value={formValues.value} name=\"platform\" />\r\n </Form.Group>\r\n \r\n  \r\n\r\n  <SingleSelect title=\"Gender\"  handleChange={handleChange.bind(this,'categories')} options = {[\r\n    { value: 'Male', label: 'Male' },\r\n                    { value: 'Female ', label: 'Female' },\r\n                                                                                      \r\n  ]}\r\n  />\r\n  <RichTextArea \r\n  handleDescription={handleChange.bind(this,'content')}\r\n   value={formValues.content}\r\n   placeholder=\"Enter your message\"\r\n   title=\"Reason for requesting new POS\"\r\n   \r\n   />\r\n      <Form.Group controlId=\"formBasicNumber\">\r\n    <Form.Label>Enter Average daily withdrawal amount</Form.Label>\r\n    <Form.Control type=\"number\" placeholder=\"Enter average daily withdrawer amount\" onChange= {handleChangeWithName3} value={number2} />\r\n </Form.Group>  \r\n <Location \r\n              title=\"Enter your current address\"\r\n              value={(formValues.location && formValues.location.formatted_address)||''}\r\n              onHandleSelect={handleLocationSelect.bind(this,'location')}\r\n              options=\"\"\r\n              />\r\n               \r\n               \r\n               {error && <MyAlert   message={error}/>}\r\n               {loading && <Loading />}\r\n                <Button variant=\"primary\" type=\"submit\" className=\"label\" >\r\n    Submit\r\n  </Button>\r\n           </Form>\r\n        </div>\r\n    )\r\n\r\n\r\n\r\n     \r\n   }\r\n\r\n   export default Pos;\r\n"],"sourceRoot":""}