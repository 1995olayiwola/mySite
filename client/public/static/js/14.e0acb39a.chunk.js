(this.webpackJsonpclient2=this.webpackJsonpclient2||[]).push([[14],{1019:function(e,t,n){"use strict";n.r(t);var c=n(64),r=n.n(c),s=n(100),a=n(16),i=n(46),o=n(22),l=n(1),d=n(0),j=n.n(d),h=n(28),u=n.n(h),b=n(153),O=n.n(b),x=n(83),p=n(154),g=n(155),f=n.n(g),w=n(952),m=n(953);function v(e){var t=e.page_rw,n=e.startRow_rw,c=e.SetPage_rw,r=e.SetStartRow_rw,s=e.max,a=e.Total_row,i=e.Total_pages,o=e.url,d=e.history;return Object(l.jsxs)("div",{children:[Object(l.jsxs)("div",{children:[" Records ",n+1,"to ",Math.min(n+s,a)," of ",a," "]}),Object(l.jsxs)("table",{border:"0",align:"center",width:"50%",cellPadding:"5",children:[Object(l.jsxs)("tbody",{children:[Object(l.jsxs)("tr",{children:[Object(l.jsxs)("td",{children:[" ",Object(l.jsx)("span",{style:{cursor:"pointer"},onClick:function(){c(0),r(0),d.push("".concat(o,"/0"))},children:" First "})]}),Object(l.jsxs)("td",{children:[" ",Object(l.jsx)("span",{style:{cursor:"pointer"},onClick:function(){var e=Math.max(0,t-1),n=e*s;c(e),r(n),d.push("".concat(o,"/").concat(e))},children:" Previous "})]}),Object(l.jsxs)("td",{children:[" ",Object(l.jsx)("span",{onClick:function(){var e=Math.min(t+1,i),n=e*s;c(e),r(n),d.push("".concat(o,"/").concat(e))},style:{cursor:"pointer"},children:" Next "})]}),Object(l.jsxs)("td",{children:[" ",Object(l.jsx)("span",{onClick:function(){var e=i*s;c(i),r(e),d.push("".concat(o,"/").concat(i))},style:{cursor:"pointer"},children:" Last "})]})]})," "]})," "]})," "]})}t.default=function(e){console.log("props is",e);var t=j.a.useState({results:[],count:0}),n=Object(a.a)(t,2),c=n[0],d=n[1],h=e.history,b=j.a.useState(null),g=Object(a.a)(b,2),y=g[0],S=g[1],_=j.a.useState(null),k=Object(a.a)(_,2),C=(k[0],k[1],j.a.useState({location:null,keyword:""})),R=Object(a.a)(C,2),T=R[0],M=R[1],N=e.match.params.pageId||0,P=5*N,A=j.a.useState(N),F=Object(a.a)(A,2),L=F[0],W=F[1],E=j.a.useState(P),I=Object(a.a)(E,2),J=I[0],B=I[1],G=c&&c.count||0,H=Math.ceil(G/5)-1,K=y&&y.lat,Q=y&&y.lng,q=null;return K&&Q&&(q=new u.a.GeoPoint({latitude:K,longitude:Q})),j.a.useEffect((function(){(function(){var e=Object(s.a)(r.a.mark((function e(){var t,n,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null,null,t=null,n=new u.a.Query("TotalInfo"),t?n.withinMiles("location_geo",t,1e4,!0):n.descending("createdAt"),n.skip(J),n.limit(5),n.withCount(),e.next=11,n.find();case 11:return c=e.sent,e.next=14,d(c);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[J,K,Q]),console.log("data is:",c),Object(l.jsx)("div",{children:Object(l.jsxs)("div",{className:"row",style:{marginTop:"10px",marginLeft:"10px",marginRight:"10px",justifyContent:"center",flexWrap:"wrap"},children:[Object(l.jsxs)("div",{className:"col-12",children:[" ",Object(l.jsx)("h3",{children:" Search Records "})," ",Object(l.jsx)(x.a,{title:"Enter the  address",value:T.location&&T.location.formatted_address||"",onHandleSelect:function(e,t){M((function(n){return Object(o.a)(Object(o.a)({},n),{},Object(i.a)({},e,t))}))}.bind(undefined,"location"),options:""}),Object(l.jsx)(p.a,{name:"keyword",title:"Keyword",placeholder:" Search for keywords",value:T.keyword,handleChange:function(e){e.persist(),M((function(t){return Object(o.a)(Object(o.a)({},t),{},Object(i.a)({},e.target.name,e.target.value))}))}.bind("")})," ",Object(l.jsx)(w.a,{type:"button",variant:"primary",onClick:function(){S(T.location)},children:"Search "})," "]})," ",Object(l.jsxs)("div",{className:"col-12",children:[" ",c.results.length>0&&Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)(m.a,{striped:!0,bordered:!0,hover:!0,children:[Object(l.jsxs)("thead",{children:[Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{children:" id "})," ",Object(l.jsx)("th",{children:" Message "})," ",Object(l.jsx)("th",{children:" Location "})," ",Object(l.jsx)("th",{children:" Bank categories "})," ",Object(l.jsx)("th",{children:" Amount transfer "})," ",Object(l.jsx)("th",{children:" Charges "})]})," "]})," ",Object(l.jsxs)("tbody",{children:[" ",c.results.map((function(e){var t=e.get("categories"),n=t&&t.label,c=null;return q&&(c=e.get("location_geo").milesTo(q).toFixed(2)),Object(l.jsxs)("tr",{children:[Object(l.jsxs)("td",{children:[" ",e.id," "]})," ",Object(l.jsxs)("td",{children:[" ",f()(e.get("content"))," "]})," ",Object(l.jsxs)("td",{children:[Object(l.jsxs)("div",{children:[" ",e.get("location").formatted_address," "]})," ",Object(l.jsxs)("div",{style:{fontWeight:"bold"},children:[" ",O()(e.get("createdAt")).fromNow()," "]})," ",c&&Object(l.jsxs)("div",{style:{fontWeight:"bold"},children:[" ",c,"miles "]})]})," ",Object(l.jsxs)("td",{children:[" ",n," "]})," ",Object(l.jsxs)("td",{children:[" ",e.get("number")," "]})," ",Object(l.jsxs)("td",{children:[" ",e.get("number2")," "]})]},e.id)}))]})," "]})," ",Object(l.jsx)(v,{page_rw:L,startRow_rw:J,SetPage_rw:W,SetStartRow_rw:B,max:5,Total_row:G,Total_pages:H,url:"/page",history:h})," "]})]})]})})}}}]);
//# sourceMappingURL=14.e0acb39a.chunk.js.map