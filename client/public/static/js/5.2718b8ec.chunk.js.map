{"version":3,"sources":["Components/Auth/Auth.jsx"],"names":["Auth","Props","console","log","React","useState","signUp","setSignUp","LoadingReg","setLoadingReg","LoadingLog","setLoadingLog","email","password","name","regValues","setRegValues","logValues","setLogValues","errLog","setErrLog","errReg","setErrReg","handleRegChange","e","persist","val","target","value","handleLogChange","classes","handleRegSubmit","a","preventDefault","user","Parse","User","set","number","localStorage","getItem","logOut","history","push","message","handleLogSubmit","logIn","code","window","alert","handleForgetPassword","Error","requestPasswordReset","className","id","onSubmit","href","type","placeholder","onChange","variant","onClick","style","cursor","Heading"],"mappings":"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","file":"static/js/5.2718b8ec.chunk.js","sourcesContent":["import React from 'react';\r\nimport Parse from 'parse';\r\nimport './Auth.css';\r\nimport MyAlert from '../../Utils/MyAlert';\r\nimport Loading from '../../Utils/Loading';\r\nimport {Alert} from 'react-bootstrap';\r\n const Auth = (Props) => {\r\n    console.log(Props);\r\n    const[signUp,setSignUp]= React.useState(false);\r\n    const[LoadingReg,setLoadingReg]= React.useState(false);\r\n    const[LoadingLog,setLoadingLog]= React.useState(false);\r\n    const[regValues,setRegValues]= React.useState({\r\n        email:\"\",password:\"\",name:\"\"\r\n    });\r\n    const[logValues,setLogValues]= React.useState({\r\n        email:\"\",password:\"\"\r\n    });\r\n    const[errLog,setErrLog] = React.useState(null);\r\n    const[errReg,setErrReg] = React.useState(null);\r\n   // const history = Props.history;\r\n    //const userLoggedIn = Parse.User.current;\r\n   /*React.useEffect(()=>{\r\n        if(userLoggedIn){\r\n            history.push('/');\r\n        }\r\n    },[history,userLoggedIn])*/\r\n    \r\n    const handleRegChange = (e) =>{\r\n      \r\n        e.persist();\r\n        setRegValues((val)=>{\r\nreturn {...val,[e.target.name]:e.target.value};\r\n\r\n        });\r\n        console.log('reg values is:',regValues);\r\n    };\r\n    const handleLogChange = (e) =>{\r\n      \r\n        e.persist();\r\n        setLogValues((val)=>{\r\nreturn {...val,[e.target.name]:e.target.value};\r\n\r\n        });\r\n        console.log('Log values is:',logValues);\r\n    };\r\n    let classes ='container';\r\n    if(signUp){\r\nclasses = classes+' right-panel-active';\r\n    };\r\n    const handleRegSubmit = async(e) =>{\r\ntry{\r\n    e.preventDefault();\r\n    setLoadingReg(true);\r\n    setErrReg(null);\r\n    const user = new Parse.User();\r\n    user.set(\"username\", regValues.email);\r\n    user.set(\"password\", regValues.password);\r\n    user.set(\"name\", regValues.name);\r\n      user.set(\"name\", regValues.number);\r\n    user.set(\"email\", regValues.email);\r\n    user.set('installationId',localStorage.getItem('parse/myAppId/installationId'));\r\n    \r\n    await user.signUp();\r\n    await Parse.User.logOut();\r\n    setSignUp(false);\r\n    setLoadingReg(false);\r\n    setErrReg(null);\r\n    Props.history.push('/');\r\n    console.log('user is :',user);\r\n   \r\n}catch (err) {\r\n    console.log('err is ',err)\r\n    setLoadingReg(false);\r\n    setErrReg(err.message)\r\n}\r\n    };\r\n    const handleLogSubmit = async(e) =>{\r\n        try{\r\n            e.preventDefault();\r\n            setLoadingLog(true);\r\n            setErrLog(null);\r\n           await Parse.User.logIn(logValues.email,logValues.password);\r\n            setLoadingLog(false);\r\n            setErrLog(null);\r\n            Props.history.push('/');\r\n            \r\n           \r\n        }catch (err) {\r\n            console.log('err is ',err);\r\n            if(err.code===209){\r\n                window.alert('i am in the right place');\r\n            }\r\n            setLoadingLog(false);\r\n            setErrLog(err.message)\r\n        }\r\n            };\r\n            const handleForgetPassword = async () =>{\r\n            try{\r\n            \r\n            setLoadingLog(true);\r\n            setErrLog(null);\r\n           if(!logValues.email){\r\n               throw new Error('please enter your email address')\r\n           }\r\n           await Parse.User.requestPasswordReset(logValues.email);\r\n            setLoadingLog(false);\r\n            setErrLog('Email for password reset is sent to you. Please check your email address');\r\n           \r\n            \r\n           \r\n        }catch (err) {\r\n            console.log('err is ',err)\r\n            setLoadingLog(false);\r\n            setErrLog(err.message)\r\n        }\r\n\r\n        \r\n            \r\n            };\r\n\r\n    return (\r\n        <div className=\"auth\">\r\n         <div className={classes} id=\"container\">\r\n    <div className=\"form-container sign-up-container\">\r\n    <form onSubmit={handleRegSubmit}>\r\n        <h1>Create Account</h1>\r\n        <div className=\"social-container\">\r\n            <a href=\"/\" className=\"social\"><i className=\"fa fa-facebook\"></i></a>\r\n            <a href=\"/\" className=\"social\"><i className=\"fa fa-google\"></i></a>\r\n            <a href=\"/\" className=\"social\"><i className=\"fa fa-linkedin\"></i></a>\r\n        </div>\r\n        <span>or use your email for registration</span>\r\n        <input type=\"text\" placeholder=\"Name\" name=\"name\" value={regValues.name} onChange={handleRegChange}/>\r\n        <input type=\"email\" placeholder=\"Email\"name=\"email\" value={regValues.email} onChange={handleRegChange}/>\r\n        <input type=\"password\" placeholder=\"Password\"name=\"password\"value={regValues.password} onChange={handleRegChange}/>\r\n               \r\n        {errReg && <MyAlert message={errReg} variant=\"danger\"/>}\r\n        {LoadingReg && <Loading />}\r\n        \r\n        <button type=\"submit\">Sign Up</button>\r\n        \r\n    </form>\r\n    </div>\r\n    <div className=\"form-container sign-in-container\">\r\n    <form onSubmit={handleLogSubmit}>\r\n        <h1>Sign in</h1>\r\n        <div className=\"social-container\">\r\n            <a href=\"/\" className=\"social\"><i className=\"fa fa-facebook\"></i></a>\r\n            <a href=\"/completereact\" className=\"social\"><i className=\"fa fa-google\"></i></a>\r\n            <a href=\"/\" className=\"social\"><i className=\"fa fa-linkedin\"></i></a>\r\n        </div>\r\n        <span>or use your account</span>\r\n        <input type=\"email\" placeholder=\"Email\" name=\"email\" value={logValues.email} onChange={handleLogChange} />\r\n        <input type=\"password\" placeholder=\"Password\" name=\"password\" value={logValues.password} onChange={handleLogChange}/>\r\n        <span onClick={handleForgetPassword} style={{cursor:'pointer'}}>Forgot your password?</span>\r\n\r\n        {errLog && <MyAlert message={errLog} variant=\"danger\"/>}\r\n        {LoadingLog && <Loading />}\r\n        <button type=\"submit\">Sign In</button>\r\n    </form> \r\n    </div>\r\n    <div className=\"overlay-container\">\r\n    <div className=\"overlay\">\r\n        <div className=\"overlay-panel overlay-left\">\r\n            <h1>Welcome Back!</h1>\r\n            <p>\r\n                To keep connected with us please login with your personal info\r\n            </p>\r\n            <button className=\"ghost\" id=\"signIn\" onClick={()=>{setSignUp(false)}}>Sign In</button>\r\n        </div>\r\n        <div className=\"overlay-panel overlay-right\">\r\n            <h1>Hello, Friend!</h1>\r\n            <p>Enter your personal details and start journey with us</p>\r\n            <button className=\"ghost\" id=\"signUp\" onClick={()=>{\r\n                setSignUp(true)}}>Sign Up</button>\r\n        </div>\r\n    </div>\r\n    </div>\r\n    </div> \r\n<div className=\"alert\">\r\n<Alert variant=\"success\">\r\n  <Alert.Heading>Hey, nice to see you</Alert.Heading>\r\n  <p className=\"text-dark f-bold\">\r\n   Please, verify your email,before signing in. \r\n  </p>\r\n  <hr />\r\n  <p className=\"mb-0 text-dark f-bold\">\r\n   A link will be  sent to your  mail, please check and  verify your email.\r\n  </p>\r\n</Alert>\r\n</div>\r\n        \r\n        </div>\r\n\r\n    )\r\n}\r\nexport default Auth;\r\n"],"sourceRoot":""}